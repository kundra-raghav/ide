<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Submit C++ Code</title>
</head>
<body>
    <form id="cppForm">
        <label for="cppCode">Enter C++ Code:</label><br>
        <textarea id="cppCode" name="cppCode" rows="10" cols="50"></textarea><br>
        <button type="submit">Submit</button>
    </form>

    <script>
        function escapeSpecialChars(text) {
            return text.replace(/\\/g, '\\\\')  // Escape backslashes
                       .replace(/"/g, '\\"')      // Escape double quotes
                       .replace(/'/g, "\\'")      // Escape single quotes
                       .replace(/\n/g, '\\n')     // Escape newlines
                       .replace(/\r/g, '\\r');    // Escape carriage returns
        }

        document.getElementById('cppForm').addEventListener('submit', async function(event) {
            event.preventDefault(); // Prevent form submission
            const cppCode = document.getElementById('cppCode').value.trim(); // Get the C++ code
            const escapedCppCode = escapeSpecialChars(cppCode); // Escape special characters

            // Send the escaped C++ code to the backend using an HTTP POST request
            const response = await fetch('/your-backend-endpoint', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ cppCode: escapedCppCode })
            });

            if (response.ok) {
                const data = await response.json();
                console.log(data); // Handle the response from the backend
            } else {
                console.error('Failed to submit C++ code');
            }
        });
    </script>
</body>
</html>
